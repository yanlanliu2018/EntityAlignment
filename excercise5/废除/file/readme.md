###1、实验说明
2020/6/10
第5次实验
对比实验
在主题建模不变的情况下，修改候选集的算法，进行对比实验
1、直接按名获取
2、使用实体指称索引
3、使用关键词索引
4、实体指称索引+关键词索引

###2、实验流程
1、关键词计算(tf_idf.py)
    1.1 计算出每个词条词向量中词的tfidf值，逆排序
    1.2 计算计算每个词条的前缀数
2、索引挂载(Index.py)
    2.1 根据词条名称以及属性中的*名对词条id进行挂载
    2.2 根据词条的词向量以及前缀数，根据关键词对词条id进行挂载
3、获取候选集(candidate.py)
    3.1 根据词条名以及别名获取id集合
    3.2 根据前缀数以及关键词获取id集合
    3.3 获取前两个集合的交集
4、相似度的计算(entities_alignment.py)
    4.1 计算待对齐实体与候选集中实体的文本相似度；
    4.2 获取相似度最高的实体作为对齐实体，若相似度过低，则认为没有对齐实体
5、计算准确率与召回率

输入：两个百科知识库（mysql数据库）
输出：已经对齐的词条id对

###2、实验改动
1、在对数据库中所有词条进行分词、去除停用词的处理时，将其使用json的方式进行存储。
与baidu_tfidf.json相似，

###2、文件说明
1.StopWord.txt：停用词的文档
2.WordIdfs.json：以两个数据库的所有文本作为语料，计算每个词的idf，以词典的形式存储
3.baidu_tfidf.json：百度库中每个词条的id-tfidf词向量
4.hudong_tfidf.json：互动库中每个词条的id-tfidf词向量

5.candidates.txt：记录待对齐实体信息以及候选集信息；红灯区 52 3 {'5494', '5496', '5497'}；name-id-num-ids
6.result.txt：记录每对对齐实体的词条信息
7.time_log.txt：记录算法运行的时间消耗
8.redis数据库：0-name_baidu;1-name_hudong;2-keyword_baidu;3-keyword_hudong;

###3、对比实验
参数说明：
threshold:构建索引和获取候选集时使用的阙值
min_sim:相似度的最小值
topic_num:主题数量
第一组实验：
threshold:0.4
min_sim:0.5
topic_num:变量（我们将取值定为3-10）
第二组实验


###4、实验结果分析
1、我们在第一次实验的时候，是以待对齐实体和候选集合作为语料来训练lda模型，
但是大多数的候选集合十分小，基本上是1个或者几个，少数存在十几个。
有可能是因为这个导致数据的准确率和找回率较低。
我们尝试使用两个百科知识库来做语料库训练模型。

